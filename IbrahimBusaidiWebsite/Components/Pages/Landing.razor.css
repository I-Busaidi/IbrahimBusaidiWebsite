.landing {
    position: relative;
    height: 100vh;
    overflow: hidden;
    background: #0b0d12;
}

/* shared layer base */
.layer {
    position: absolute;
    inset: 0;
}

/* Let UI receive pointer; all reveal layers must ignore pointer */
.layer2-abstract,
.layer3-tint,
.layer4-stars {
    pointer-events: none;
}

/* CSS vars updated by JS */
.landing {
    --mx: 50%;
    --my: 50%;
    --r2: 320px;
    --r3: 200px;
    --r4: 110px;
    /* for parallax */
    --dx: 0px;
    --dy: 0px;
}

/* L4: stars */
.layer4-stars {
    background: url("/Images/Landing/Starry.png") center/cover no-repeat;
    filter: saturate(1.05) contrast(1.05);
    opacity: 0.95;
    /* smallest reveal */
    -webkit-mask-image: radial-gradient(circle var(--r4) at var(--mx) var(--my), rgba(0,0,0,1) 0%, rgba(0,0,0,0) 70%);
    mask-image: radial-gradient(circle var(--r4) at var(--mx) var(--my), rgba(0,0,0,1) 0%, rgba(0,0,0,0) 70%);
}

/* L3: tint */
.layer3-tint {
    background: rgba(20, 120, 255, 0.12);
    mix-blend-mode: screen;
    /* medium reveal */
    -webkit-mask-image: radial-gradient(circle var(--r3) at var(--mx) var(--my), rgba(0,0,0,1) 0%, rgba(0,0,0,0) 72%);
    mask-image: radial-gradient(circle var(--r3) at var(--mx) var(--my), rgba(0,0,0,1) 0%, rgba(0,0,0,0) 72%);
}

/* L2: abstract shapes */
.layer2-abstract {
    /* big reveal */
    -webkit-mask-image: radial-gradient(circle var(--r2) at var(--mx) var(--my), rgba(0,0,0,1) 0%, rgba(0,0,0,0) 75%);
    mask-image: radial-gradient(circle var(--r2) at var(--mx) var(--my), rgba(0,0,0,1) 0%, rgba(0,0,0,0) 75%);
}

.shape {
    position: absolute;
    border-radius: 999px;
    filter: blur(12px);
    opacity: 0.55;
    transform: translate(calc(var(--dx) * 1), calc(var(--dy) * 1));
}

.s1 {
    width: 340px;
    height: 340px;
    top: 12%;
    left: 8%;
    background: rgba(255,70,120,0.6);
}

.s2 {
    width: 420px;
    height: 420px;
    top: 25%;
    right: 10%;
    background: rgba(70,220,255,0.55);
    transform: translate(calc(var(--dx) * -1), calc(var(--dy) * 1));
}

.s3 {
    width: 280px;
    height: 280px;
    bottom: 8%;
    left: 35%;
    background: rgba(180,120,255,0.5);
    transform: translate(calc(var(--dx) * 0.6), calc(var(--dy) * -0.6));
}

/* L1 UI */
.layer1-ui {
    display: grid;
    place-items: center;
    padding: 48px 24px;
}

.grid {
    width: min(1100px, 100%);
    display: grid;
    grid-template-columns: repeat(3, minmax(0, 1fr));
    gap: 18px;
}

@media (max-width: 900px) {
    .grid {
        grid-template-columns: 1fr;
    }
}

/* Card */
.card-wrap {
    position: relative;
}

.card-link {
    display: block;
    text-decoration: none;
    /* hover-only clickability */
    pointer-events: none;
}

.card-wrap:hover .card-link {
    pointer-events: auto;
}

.card {
    position: relative;
    border-radius: 18px;
    overflow: hidden;
    height: 260px;
    background: rgba(255,255,255,0.06);
    border: 1px solid rgba(255,255,255,0.12);
    transform: translateZ(0);
}

.card-front img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    transform: scale(1.02);
    opacity: 0.95;
}

.card-front-text {
    position: absolute;
    left: 16px;
    right: 16px;
    bottom: 16px;
    color: white;
    text-shadow: 0 10px 40px rgba(0,0,0,0.6);
}

.card-deep {
    position: absolute;
    inset: 0;
    /* This is the trick: reveal the star layer "inside" the card */
    background: url("/Images/Landing/Starry.png") center/cover no-repeat;
    opacity: 0;
    transition: opacity 160ms ease;
}

    .card-deep::before {
        content: "";
        position: absolute;
        inset: 0;
        background: rgba(10, 12, 18, 0.55);
    }

.card-deep-text {
    position: absolute;
    inset: 0;
    padding: 18px;
    display: grid;
    align-content: end;
    gap: 6px;
    color: white;
}

.cta {
    display: inline-block;
    margin-top: 8px;
    opacity: 0.9;
}

/* Hover behavior: show deep layer + add slight lift */
.card-wrap:hover .card-deep {
    opacity: 1;
}

.card-wrap:hover .card {
    transform: translateY(-4px);
    transition: transform 160ms ease;
}

/* Mobile fallback: remove masks (optional) */
@media (hover: none) {
    .layer2-abstract, .layer3-tint, .layer4-stars {
        -webkit-mask-image: none;
        mask-image: none;
    }

    /* hover-only clickability doesn't work on touch */
    .card-link {
        pointer-events: auto;
    }
}
